# ğŸŒ í´ë¼ìš°ë“œ ë°°í¬ ê°€ì´ë“œ

ì´ í”„ë¡œì íŠ¸ëŠ” ë‹¤ì–‘í•œ í´ë¼ìš°ë“œ í”Œë«í¼ì— ë°°í¬í•  ìˆ˜ ìˆë„ë¡ ì™„ì „íˆ ì¤€ë¹„ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

## ğŸ“‹ ë°°í¬ ì¤€ë¹„ ìƒíƒœ

### âœ… **ì™„ë£Œëœ ë¶€ë¶„**
- **Docker ì»¨í…Œì´ë„ˆí™”**: í”„ë¡œë•ì…˜ ì¤€ë¹„ ì™„ë£Œ
- **í™˜ê²½ë³€ìˆ˜ ê´€ë¦¬**: ë³´ì•ˆ ì„¤ì • ì™„ë£Œ
- **Nginx ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ**: SSL, ì••ì¶•, ë³´ì•ˆ í—¤ë” ì„¤ì •
- **ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ**: ìë™ ì´ˆê¸°í™” ì§€ì›
- **ìë™í™” ìŠ¤í¬ë¦½íŠ¸**: GCP, AWS ì›í´ë¦­ ë°°í¬

### ğŸ”§ **ë°°í¬ ì˜µì…˜**

## ğŸš€ Google Cloud Platform (GCP)

### íŠ¹ì§•
- **Cloud Run**: ì„œë²„ë¦¬ìŠ¤ ì»¨í…Œì´ë„ˆ ì‹¤í–‰
- **Cloud SQL**: ê´€ë¦¬í˜• PostgreSQL
- **Secret Manager**: í™˜ê²½ë³€ìˆ˜ ë³´ì•ˆ ê´€ë¦¬
- **ìë™ SSL**: HTTPS ì¸ì¦ì„œ ìë™ ì œê³µ
- **ìë™ ìŠ¤ì¼€ì¼ë§**: íŠ¸ë˜í”½ì— ë”°ë¥¸ ìë™ í™•ì¥

### ë°°í¬ ë°©ë²•
```bash
# 1. Google Cloud SDK ì„¤ì¹˜
curl https://sdk.cloud.google.com | bash
exec -l $SHELL

# 2. í”„ë¡œì íŠ¸ ìƒì„± ë° ì¸ì¦
gcloud projects create insurance-claim-system
gcloud auth login

# 3. ë°°í¬ ì‹¤í–‰
chmod +x deploy/gcp-deploy.sh
./deploy/gcp-deploy.sh insurance-claim-system asia-northeast3

# 4. OpenAI API í‚¤ ì„¤ì •
gcloud secrets versions add openai-api-key --data-file=<(echo "your-actual-api-key")
```

### ì˜ˆìƒ ë¹„ìš© (ì›”ê°„)
- **Cloud Run**: $0-20 (íŠ¸ë˜í”½ì— ë”°ë¼)
- **Cloud SQL**: $25-50 (db-f1-micro)
- **ì´ ì˜ˆìƒ ë¹„ìš©**: $25-70/ì›”

## âš¡ Amazon Web Services (AWS)

### íŠ¹ì§•
- **ECS Fargate**: ì„œë²„ë¦¬ìŠ¤ ì»¨í…Œì´ë„ˆ ì‹¤í–‰
- **RDS PostgreSQL**: ê´€ë¦¬í˜• ë°ì´í„°ë² ì´ìŠ¤
- **Parameter Store**: í™˜ê²½ë³€ìˆ˜ ë³´ì•ˆ ê´€ë¦¬
- **Application Load Balancer**: ë¡œë“œë°¸ëŸ°ì‹±
- **Auto Scaling**: ìë™ í™•ì¥

### ë°°í¬ ë°©ë²•
```bash
# 1. AWS CLI ì„¤ì¹˜
curl "https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip" -o "awscliv2.zip"
unzip awscliv2.zip
sudo ./aws/install

# 2. AWS ê³„ì • ì„¤ì •
aws configure

# 3. ë°°í¬ ì‹¤í–‰
chmod +x deploy/aws-deploy.sh
./deploy/aws-deploy.sh ap-northeast-2 insurance-cluster

# 4. OpenAI API í‚¤ ì„¤ì •
aws ssm put-parameter \
    --name "/insurance/openai-api-key" \
    --value "your-actual-api-key" \
    --type "SecureString" \
    --overwrite
```

### ì˜ˆìƒ ë¹„ìš© (ì›”ê°„)
- **ECS Fargate**: $30-60 (2 tasks)
- **RDS**: $15-30 (db.t3.micro)
- **ALB**: $20-25
- **ì´ ì˜ˆìƒ ë¹„ìš©**: $65-115/ì›”

## ğŸ³ Docker Compose (VPS)

### íŠ¹ì§•
- **ì™„ì „í•œ ì œì–´**: ëª¨ë“  ì„¤ì • ì§ì ‘ ê´€ë¦¬
- **ë¹„ìš© íš¨ìœ¨ì **: ê³ ì • VPS ë¹„ìš©
- **SSL ì¸ì¦ì„œ**: Let's Encrypt ìë™ ê°±ì‹ 
- **ëª¨ë‹ˆí„°ë§**: ì§ì ‘ ì„¤ì • ê°€ëŠ¥

### ë°°í¬ ë°©ë²•
```bash
# 1. VPS ì„œë²„ ì ‘ì† (Ubuntu 20.04+)
ssh user@your-server-ip

# 2. Docker ì„¤ì¹˜
curl -fsSL https://get.docker.com -o get-docker.sh
sh get-docker.sh

# 3. í”„ë¡œì íŠ¸ í´ë¡ 
git clone <repository-url>
cd test4

# 4. í™˜ê²½ë³€ìˆ˜ ì„¤ì •
cp .env.example .env
# .env íŒŒì¼ì— ì‹¤ì œ ê°’ ì…ë ¥

# 5. í”„ë¡œë•ì…˜ ë°°í¬
docker-compose -f docker-compose.prod.yml up -d

# 6. SSL ì¸ì¦ì„œ ì„¤ì • (Let's Encrypt)
docker exec insurance_nginx_prod certbot --nginx -d your-domain.com
```

### ì˜ˆìƒ ë¹„ìš© (ì›”ê°„)
- **VPS (4GB RAM)**: $20-40/ì›”
- **ë„ë©”ì¸**: $10-15/ë…„
- **ì´ ì˜ˆìƒ ë¹„ìš©**: $20-40/ì›”

## ğŸ”’ ë³´ì•ˆ ì„¤ì •

### 1. í™˜ê²½ë³€ìˆ˜ ë³´ì•ˆ
```bash
# ê°•ë ¥í•œ ë¹„ë°€ë²ˆí˜¸ ìƒì„±
openssl rand -base64 32

# JWT ì‹œí¬ë¦¿ í‚¤ ìƒì„±
openssl rand -base64 64
```

### 2. ë°ì´í„°ë² ì´ìŠ¤ ë³´ì•ˆ
- ë°©í™”ë²½ ì„¤ì •ìœ¼ë¡œ DB ì ‘ê·¼ ì œí•œ
- ì •ê¸°ì ì¸ ë°±ì—… ì„¤ì •
- SSL/TLS ì—°ê²° ê°•ì œ

### 3. API ë³´ì•ˆ
- Rate limiting ì ìš©
- CORS ì„¤ì •
- JWT í† í° ì¸ì¦

## ğŸ“Š ëª¨ë‹ˆí„°ë§ ë° ë¡œê¹…

### 1. í—¬ìŠ¤ì²´í¬
```bash
# API ìƒíƒœ í™•ì¸
curl https://your-domain.com/health

# ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° í™•ì¸
curl https://your-domain.com/v1/pdf/insurance-clauses?limit=1
```

### 2. ë¡œê·¸ í™•ì¸
```bash
# GCP
gcloud logging read "resource.type=cloud_run_revision"

# AWS
aws logs describe-log-groups --log-group-name-prefix /ecs/insurance

# Docker
docker-compose logs -f backend
```

## ğŸš€ ë°°í¬ í›„ ì²´í¬ë¦¬ìŠ¤íŠ¸

### âœ… í•„ìˆ˜ í™•ì¸ì‚¬í•­
1. **API ë¬¸ì„œ ì ‘ê·¼**: `https://your-domain.com/docs`
2. **í—¬ìŠ¤ì²´í¬ í†µê³¼**: `https://your-domain.com/health`
3. **ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°**: ë³´í—˜ ì¡°í•­ ëª©ë¡ ì¡°íšŒ ê°€ëŠ¥
4. **SSL ì¸ì¦ì„œ**: HTTPS ì •ìƒ ì‘ë™
5. **í™˜ê²½ë³€ìˆ˜ ì„¤ì •**: OpenAI API í‚¤ ë“±ë¡ ì™„ë£Œ

### ğŸ”§ ì¶”ê°€ ì„¤ì •
1. **ë„ë©”ì¸ ì—°ê²°**: DNS ì„¤ì •
2. **ëª¨ë‹ˆí„°ë§ ì„¤ì •**: ì•Œë¦¼ ë° ëŒ€ì‹œë³´ë“œ
3. **ë°±ì—… ì„¤ì •**: ë°ì´í„°ë² ì´ìŠ¤ ìë™ ë°±ì—…
4. **CDN ì„¤ì •**: ì •ì  íŒŒì¼ ìºì‹± (ì„ íƒì‚¬í•­)

## ğŸ†˜ ë¬¸ì œ í•´ê²°

### ìì£¼ ë°œìƒí•˜ëŠ” ë¬¸ì œ

1. **API í‚¤ ì˜¤ë¥˜**
   ```bash
   # í™˜ê²½ë³€ìˆ˜ í™•ì¸
   echo $OPENAI_API_KEY
   
   # í´ë¼ìš°ë“œ ì‹œí¬ë¦¿ í™•ì¸
   gcloud secrets versions access latest --secret="openai-api-key"
   ```

2. **ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì‹¤íŒ¨**
   ```bash
   # ì—°ê²° ë¬¸ìì—´ í™•ì¸
   echo $DATABASE_URL
   
   # ë°©í™”ë²½ ê·œì¹™ í™•ì¸
   gcloud compute firewall-rules list
   ```

3. **Docker ë¹Œë“œ ì‹¤íŒ¨**
   ```bash
   # ë¡œì»¬ í…ŒìŠ¤íŠ¸
   docker build -f backend/Dockerfile.prod -t test ./backend
   docker run -p 8000:8000 test
   ```

## ğŸ“ ì§€ì›

ë°°í¬ ê³¼ì •ì—ì„œ ë¬¸ì œê°€ ë°œìƒí•˜ë©´:
1. ë¡œê·¸ íŒŒì¼ í™•ì¸
2. í™˜ê²½ë³€ìˆ˜ ì„¤ì • ì¬í™•ì¸
3. ë°©í™”ë²½ ë° ë³´ì•ˆ ê·¸ë£¹ ì„¤ì • í™•ì¸
4. ê° í´ë¼ìš°ë“œ í”Œë«í¼ì˜ ê³µì‹ ë¬¸ì„œ ì°¸ì¡° 